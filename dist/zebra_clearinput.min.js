(r=>{if("undefined"==typeof jQuery)throw new Error("Zebra_ClearInput requires jQuery");r.Zebra_ClearInput=function(t,e){function n(t){var e,n,a,i;!t.is("input")||t.is('input[type="password"]')&&!c.settings.enable_on_password||t.data("zci_button")||(n=t.css("position"),e=r('<a href="javascript: void(0)" tabindex="-1" class="'+c.settings.button_class_name+'">').html(c.settings.button_content),c.inputs.push(t),t.wrap(r('<div class="'+c.settings.container_class_name+'">').css({position:"static"===n?"relative":n,display:t.css("display"),verticalAlign:t.css("vertical-align")})).after(e.css({visibility:"hidden"})),n=t.outerHeight(),i=e.outerHeight(),(a=n-2*(parseInt(t.css("borderTopWidth"),10)+2))<i&&e.css("height",a),i=(n-e.outerHeight())/2,e.css({top:i,right:i,overflow:"hidden"}),e.css("visibility","").hide(),t.data("zci_button",e),t.parent().data("zci_input",t))}function a(t,e){var n=t.data("zci_button");n&&(e||!t.data("zci_mouseover")&&!t.is(":focus"))&&n.hide()}function i(t){var e=t.data("zci_button");e&&(""!==t.val()?e.show():e.hide())}var s,o={container_class_name:"Zebra_ClearInput_Container",button_class_name:"Zebra_ClearInput",button_content:"Ã—",enable_on_password:!1,debounce_delay:150},c=this,u=null;c.destroy=function(){u&&clearTimeout(u),r(document).off(c.namespace),r.each(c.inputs,function(t,e){var n=e.data("zci_button");n&&(n.remove(),e.unwrap(),e.removeData("zci_mouseover"),e.removeData("zci_button"))}),c.inputs=[]},c.update=function(){r(t).each(function(){n(r(this))})},c.settings={},c.settings=r.extend({},o,e),c.namespace=".zebra_clear_input_"+Date.now()+"_"+Math.random().toString(36).substring(2,11),c.inputs=[],o="."+c.settings.container_class_name,e="."+c.settings.button_class_name,s=o+" input",r(t).each(function(){n(r(this))}),r(document).on("mouseover"+c.namespace,o,function(){var t=r(this).data("zci_input");t.data("zci_mouseover",!0),i(t)}),r(document).on("mouseout"+c.namespace,o,function(){var t=r(this).data("zci_input");t.data("zci_mouseover",!1),a(t)}),r(document).on("blur"+c.namespace,s,function(){a(r(this))}),r(document).on("focus"+c.namespace,s,function(){i(r(this))}),r(document).on("keyup"+c.namespace,s,function(){var t=r(this);u&&clearTimeout(u),u=setTimeout(function(){i(t)},c.settings.debounce_delay)}),r(document).on("click"+c.namespace,e,function(){var t=r(this).prev();t.val("").trigger("focus"),a(t,!0)})}})(jQuery);